<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø³ÙŠÙ† | Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-card: #1a1a1a;
            --bg-hover: #222222;
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --text-tertiary: #71717a;
            --accent-purple: #8b5cf6;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;
            --accent-yellow: #f59e0b;
            --accent-red: #ef4444;
            --border: #27272a;
            --radius: 12px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; }
        .sidebar { position: fixed; right: 0; top: 0; width: 260px; height: 100vh; background: var(--bg-secondary); border-left: 1px solid var(--border); padding: 24px 16px; z-index: 100; overflow-y: auto; }
        .brand { display: flex; align-items: center; gap: 12px; padding-bottom: 24px; border-bottom: 1px solid var(--border); margin-bottom: 24px; }
        .brand-icon { width: 44px; height: 44px; background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue)); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
        .brand h1 { font-size: 1.3rem; }
        .brand p { font-size: 0.75rem; color: var(--text-tertiary); }
        .nav-menu { list-style: none; }
        .nav-item { margin-bottom: 4px; }
        .nav-link { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 8px; color: var(--text-secondary); text-decoration: none; font-size: 0.9rem; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .nav-link:hover, .nav-link.active { background: var(--bg-hover); color: var(--text-primary); }
        .nav-link i { width: 20px; text-align: center; }
        .nav-badge { margin-right: auto; background: var(--bg-card); padding: 2px 8px; border-radius: 100px; font-size: 0.7rem; }
        .nav-link.active .nav-badge { background: var(--accent-purple); color: white; }
        .main-content { margin-right: 260px; min-height: 100vh; }
        .top-bar { position: sticky; top: 0; background: rgba(10,10,10,0.9); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border); padding: 16px 32px; display: flex; justify-content: space-between; align-items: center; z-index: 50; }
        .content-area { padding: 32px; }
        .section { display: none; animation: fadeIn 0.3s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 32px; }
        .stat-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 24px; position: relative; overflow: hidden; }
        .stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue)); }
        .stat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .stat-label { font-size: 0.85rem; color: var(--text-secondary); }
        .stat-change { font-size: 0.75rem; padding: 4px 8px; border-radius: 100px; background: rgba(16,185,129,0.1); color: var(--accent-green); }
        .stat-value { font-size: 2.2rem; font-weight: 700; margin-bottom: 12px; }
        .stat-progress { height: 4px; background: var(--bg-hover); border-radius: 2px; overflow: hidden; }
        .stat-progress-bar { height: 100%; background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue)); border-radius: 2px; transition: width 1s ease; }
        .card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 24px; overflow: hidden; }
        .card-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; border-bottom: 1px solid var(--border); }
        .card-title { display: flex; align-items: center; gap: 10px; font-size: 1rem; font-weight: 600; }
        .card-title i { color: var(--accent-purple); }
        .card-body { padding: 20px 24px; }
        .tasks-scroll { display: flex; gap: 16px; overflow-x: auto; padding-bottom: 16px; scrollbar-width: thin; scrollbar-color: var(--border) transparent; }
        .tasks-scroll::-webkit-scrollbar { height: 6px; }
        .tasks-scroll::-webkit-scrollbar-track { background: var(--bg-hover); border-radius: 3px; }
        .tasks-scroll::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
        .task-card { min-width: 280px; background: var(--bg-hover); border: 1px solid var(--border); border-radius: 10px; padding: 20px; transition: all 0.2s; }
        .task-card:hover { border-color: var(--accent-purple); transform: translateY(-2px); }
        .task-card.priority { border-color: var(--accent-yellow); background: linear-gradient(135deg, rgba(245,158,11,0.1), var(--bg-hover)); }
        .task-card.completed { opacity: 0.7; border-color: var(--accent-green); }
        .task-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .task-icon { width: 36px; height: 36px; background: var(--bg-card); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .task-title-text { font-weight: 600; font-size: 0.95rem; }
        .task-badge { margin-right: auto; font-size: 0.65rem; padding: 3px 8px; border-radius: 100px; font-weight: 600; }
        .task-badge.hot { background: rgba(245,158,11,0.2); color: var(--accent-yellow); }
        .task-badge.active { background: rgba(59,130,246,0.2); color: var(--accent-blue); }
        .task-badge.done { background: rgba(16,185,129,0.2); color: var(--accent-green); }
        .task-desc { font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 12px; line-height: 1.5; }
        .task-date { font-size: 0.75rem; color: var(--text-tertiary); }
        .skills-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 16px; }
        .skill-card { display: flex; align-items: center; gap: 14px; padding: 18px; background: var(--bg-hover); border: 1px solid var(--border); border-radius: 10px; transition: all 0.2s; }
        .skill-card:hover { border-color: var(--accent-purple); }
        .skill-card.completed { border-color: var(--accent-green); }
        .skill-icon-large { width: 44px; height: 44px; background: var(--bg-card); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; }
        .skill-info { flex: 1; }
        .skill-name { font-weight: 600; font-size: 0.95rem; margin-bottom: 4px; }
        .skill-desc { font-size: 0.8rem; color: var(--text-tertiary); }
        .skill-progress { height: 4px; background: var(--bg-card); border-radius: 2px; overflow: hidden; margin-top: 8px; }
        .skill-progress-bar { height: 100%; background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue)); border-radius: 2px; transition: width 0.5s ease; }
        .skill-card.completed .skill-progress-bar { background: var(--accent-green); }
        .skill-check { width: 24px; height: 24px; background: var(--accent-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; color: white; }
        .downloads-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; }
        .download-card { background: var(--bg-hover); border: 1px solid var(--border); border-radius: var(--radius); padding: 24px; text-align: center; transition: all 0.2s; }
        .download-card:hover { border-color: var(--accent-purple); transform: translateY(-4px); }
        .download-icon { font-size: 2.5rem; margin-bottom: 12px; }
        .download-title { font-weight: 600; margin-bottom: 6px; }
        .download-desc { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 16px; }
        .download-btn { display: inline-flex; align-items: center; gap: 6px; padding: 10px 20px; background: var(--accent-purple); border-radius: 8px; color: white; text-decoration: none; font-size: 0.85rem; font-weight: 500; transition: all 0.2s; }
        .download-btn:hover { background: var(--accent-blue); }
        .agent-card { display: flex; align-items: center; gap: 16px; padding: 18px; background: var(--bg-hover); border: 1px solid var(--border); border-radius: 10px; margin-bottom: 12px; }
        .agent-avatar { width: 48px; height: 48px; background: var(--bg-card); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
        .agent-info { flex: 1; }
        .agent-name { font-weight: 600; margin-bottom: 4px; }
        .agent-task { font-size: 0.85rem; color: var(--text-secondary); }
        .agent-status { padding: 6px 12px; border-radius: 100px; font-size: 0.75rem; font-weight: 600; background: rgba(16,185,129,0.1); color: var(--accent-green); }
        .tabs { display: flex; gap: 8px; padding: 16px 24px; border-bottom: 1px solid var(--border); }
        .tab-btn { padding: 8px 16px; border-radius: 8px; border: 1px solid var(--border); background: transparent; color: var(--text-secondary); font-size: 0.85rem; cursor: pointer; transition: all 0.2s; }
        .tab-btn:hover { border-color: var(--text-secondary); }
        .tab-btn.active { background: var(--bg-hover); border-color: var(--accent-purple); color: var(--text-primary); }
        .tab-content { display: block; }
        
        /* Form Styles */
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; font-size: 0.9rem; font-weight: 500; margin-bottom: 8px; color: var(--text-secondary); }
        .form-input, .form-select { width: 100%; padding: 12px 16px; background: var(--bg-hover); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary); font-size: 0.9rem; transition: all 0.2s; }
        .form-input:focus, .form-select:focus { outline: none; border-color: var(--accent-purple); }
        .btn-primary { display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue)); border: none; border-radius: 8px; color: white; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.2s; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4); }
        .btn-danger { display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 6px; color: var(--accent-red); font-size: 0.8rem; cursor: pointer; transition: all 0.2s; }
        .btn-danger:hover { background: rgba(239, 68, 68, 0.2); }
        
        @media (max-width: 1200px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .sidebar { width: 100%; position: relative; height: auto; } .main-content { margin-right: 0; } .stats-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<aside class="sidebar">
    <div class="brand">
        <div class="brand-icon">ğŸ¦…</div>
        <div>
            <h1>Ø­Ø³ÙŠÙ†</h1>
            <p>Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø°ÙƒÙŠ</p>
        </div>
    </div>
    <nav>
        <ul class="nav-menu">
            <li class="nav-item"><a class="nav-link active" onclick="showSection('dashboard')"><i class="fas fa-home"></i><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a></li>
            <li class="nav-item"><a class="nav-link" onclick="showSection('tasks')"><i class="fas fa-tasks"></i><span>Ø§Ù„Ù…Ù‡Ø§Ù…</span><span class="nav-badge" id="nav-tasks-count">4</span></a></li>
            <li class="nav-item"><a class="nav-link" onclick="showSection('skills')"><i class="fas fa-star"></i><span>Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</span><span class="nav-badge" id="nav-skills-count">94</span></a></li>
            <li class="nav-item"><a class="nav-link" onclick="showSection('add-skill')"><i class="fas fa-plus-circle"></i><span>Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©</span></a></li>
            <li class="nav-item"><a class="nav-link" onclick="showSection('downloads')"><i class="fas fa-download"></i><span>Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª</span><span class="nav-badge">5</span></a></li>
            <li class="nav-item"><a class="nav-link" onclick="showSection('agents')"><i class="fas fa-robot"></i><span>Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡</span><span class="nav-badge">3</span></a></li>
        </ul>
    </nav>
</aside>

<main class="main-content">
    <header class="top-bar">
        <h2 id="page-title">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        <div style="display: flex; align-items: center; gap: 12px;">
            <span style="font-size: 0.8rem; color: var(--text-tertiary);">ğŸ”„ Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: <span id="last-update">--:--</span></span>
            <div style="width: 8px; height: 8px; background: var(--accent-green); border-radius: 50%; animation: pulse 2s infinite;"></div>
        </div>
    </header>

    <div class="content-area">
        
        <!-- DASHBOARD -->
        <section id="dashboard" class="section active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header"><span class="stat-label">Ù…Ù‡Ù…Ø© Ù…Ù†Ø¬Ø²Ø©</span><span class="stat-change">+12%</span></div>
                    <div class="stat-value" id="stat-tasks">47</div>
                    <div class="stat-progress"><div class="stat-progress-bar" id="stat-tasks-bar" style="width: 85%"></div></div>
                </div>
                <div class="stat-card">
                    <div class="stat-header"><span class="stat-label">Ù…Ù‡Ø§Ø±Ø© Ù…ØªÙˆÙØ±Ø©</span><span class="stat-change" style="background: rgba(139,92,246,0.1); color: var(--accent-purple);">+<span id="new-skills-count">0</span></span></div>
                    <div class="stat-value" id="stat-skills" style="color: var(--accent-purple);">94</div>
                    <div class="stat-progress"><div class="stat-progress-bar" id="stat-skills-bar" style="width: 47%"></div></div>
                </div>
                <div class="stat-card">
                    <div class="stat-header"><span class="stat-label">ÙˆÙƒÙŠÙ„ Ù†Ø´Ø·</span><span class="stat-change" style="background: rgba(59,130,246,0.1); color: var(--accent-blue);">Ù†Ø´Ø·</span></div>
                    <div class="stat-value" id="stat-agents" style="color: var(--accent-blue);">12</div>
                    <div class="stat-progress"><div class="stat-progress-bar" id="stat-agents-bar" style="width: 92%"></div></div>
                </div>
                <div class="stat-card">
                    <div class="stat-header"><span class="stat-label">ØªØ¹Ù„Ù… Ù…ÙƒØ«Ù</span><span class="stat-change" style="background: rgba(239,68,68,0.1); color: var(--accent-red);">Ù…Ø³ØªÙ…Ø±</span></div>
                    <div class="stat-value" id="stat-hours" style="color: var(--accent-red);">17h</div>
                    <div class="stat-progress"><div class="stat-progress-bar" id="stat-hours-bar" style="width: 47%"></div></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title"><i class="fas fa-fire" style="color: var(--accent-yellow);"></i>ğŸ”¥ Ù…Ù‡Ø§Ù… Ø°Ø§Øª Ø£ÙˆÙ„ÙˆÙŠØ©</div>
                    <button class="tab-btn" onclick="showSection('tasks')">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„ â†’</button>
                </div>
                <div class="card-body">
                    <div class="tasks-scroll" id="priority-tasks-container"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title"><i class="fas fa-bolt"></i>âš¡ Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø©</div>
                    <button class="tab-btn" onclick="showSection('skills')">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„ â†’</button>
                </div>
                <div class="card-body">
                    <div class="skills-grid" id="quick-skills-container"></div>
                </div>
            </div>
        </section>

        <!-- ADD SKILL SECTION -->
        <section id="add-skill" class="section">
            <div class="card">
                <div class="card-header">
                    <div class="card-title"><i class="fas fa-plus-circle"></i>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©</div>
                </div>
                <div class="card-body">
                    <form id="skill-form" onsubmit="addSkill(event)">
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ ğŸ¨</label>
                            <input type="text" class="form-input" id="skill-icon" placeholder="Ù…Ø«Ø§Ù„: ğŸš€" maxlength="2" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</label>
                            <input type="text" class="form-input" id="skill-name" placeholder="Ù…Ø«Ø§Ù„: ØªØ¹Ù„Ù… React" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„ÙˆØµÙ</label>
                            <input type="text" class="form-input" id="skill-desc" placeholder="Ù…Ø«Ø§Ù„: Framework Ø­Ø¯ÙŠØ« Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ‚Ø¯Ù… (%)</label>
                            <input type="number" class="form-input" id="skill-progress" min="0" max="100" value="0" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ø­Ø§Ù„Ø©</label>
                            <select class="form-select" id="skill-status">
                                <option value="pending">ğŸŸ¡ Ù‚ÙŠØ¯ Ø§Ù„ØªØ¹Ù„Ù…</option>
                                <option value="completed">âœ… Ù…ÙƒØªÙ…Ù„Ø©</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-primary"><i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</button>
                    </form>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title"><i class="fas fa-list"></i>ğŸ“‹ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø­Ø¯ÙŠØ«Ø§Ù‹</div>
                </div>
                <div class="card-body">
                    <div class="skills-grid" id="new-skills-container">
                        <p style="color: var(--text-secondary); text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ø±Ø§Øª Ù…Ø¶Ø§ÙØ© Ø­Ø¯ÙŠØ«Ø§Ù‹</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- TASKS -->
        <section id="tasks" class="section">
            <div class="card">
                <div class="card-header"><div class="card-title"><i class="fas fa-tasks"></i>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</div></div>
                <div class="card-body">
                    <div class="skills-grid" id="all-tasks-container"></div>
                </div>
            </div>
        </section>

        <!-- SKILLS -->
        <section id="skills" class="section">
            <div class="card">
                <div class="tabs">
                    <button class="tab-btn active" onclick="showTab('skills-all')">Ø§Ù„ÙƒÙ„ (<span id="count-all">94</span>)</button>
                    <button class="tab-btn" onclick="showTab('skills-completed')">Ù…ÙƒØªÙ…Ù„Ø© (<span id="count-completed">54</span>)</button>
                    <button class="tab-btn" onclick="showTab('skills-pending')">Ù…ØªØ¨Ù‚ÙŠØ© (<span id="count-pending">40</span>)</button>
                </div>
                <div id="skills-all" class="tab-content" style="padding: 20px 24px;">
                    <div class="skills-grid" id="all-skills-container"></div>
                </div>
                <div id="skills-completed" class="tab-content" style="display: none; padding: 20px 24px;">
                    <div class="skills-grid" id="completed-skills-container"></div>
                </div>
                <div id="skills-pending" class="tab-content" style="display: none; padding: 20px 24px;">
                    <div class="skills-grid" id="pending-skills-container"></div>
                </div>
            </div>
        </section>

        <!-- DOWNLOADS -->
        <section id="downloads" class="section">
            <div class="card">
                <div class="card-header"><div class="card-title"><i class="fas fa-download"></i>Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„</div></div>
                <div class="card-body">
                    <div class="downloads-grid" id="downloads-container"></div>
                </div>
            </div>
        </section>

        <!-- AGENTS -->
        <section id="agents" class="section">
            <div class="card">
                <div class="card-header"><div class="card-title"><i class="fas fa-robot"></i>Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†</div></div>
                <div class="card-body" id="agents-container"></div>
            </div>
        </section>

    </div>
</main>

<script>
// ğŸ—‚ï¸ LocalStorage for new skills
let userSkills = JSON.parse(localStorage.getItem('userSkills')) || [];

// â• Add new skill
function addSkill(event) {
    event.preventDefault();
    
    const icon = document.getElementById('skill-icon').value;
    const name = document.getElementById('skill-name').value;
    const desc = document.getElementById('skill-desc').value;
    const progress = parseInt(document.getElementById('skill-progress').value);
    const status = document.getElementById('skill-status').value;
    
    const newSkill = {
        id: Date.now(),
        icon,
        name,
        desc,
        progress,
        status,
        addedAt: new Date().toISOString()
    };
    
    userSkills.push(newSkill);
    localStorage.setItem('userSkills', JSON.stringify(userSkills));
    
    // Reset form
    document.getElementById('skill-form').reset();
    
    // Update display
    updateNewSkillsDisplay();
    updateStats();
    
    // Show success
    alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø¨Ù†Ø¬Ø§Ø­!');
}

// ğŸ—‘ï¸ Delete skill
function deleteSkill(id) {
    userSkills = userSkills.filter(s => s.id !== id);
    localStorage.setItem('userSkills', JSON.stringify(userSkills));
    updateNewSkillsDisplay();
    updateStats();
}

// ğŸ“Š Update new skills display
function updateNewSkillsDisplay() {
    const container = document.getElementById('new-skills-container');
    
    if (userSkills.length === 0) {
        container.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ø±Ø§Øª Ù…Ø¶Ø§ÙØ© Ø­Ø¯ÙŠØ«Ø§Ù‹</p>';
        return;
    }
    
    container.innerHTML = userSkills.map(skill => `
        <div class="skill-card ${skill.status === 'completed' ? 'completed' : ''}" style="${skill.status !== 'completed' ? 'border-color: var(--border);' : ''}">
            <div class="skill-icon-large">${skill.icon}</div>
            <div class="skill-info">
                <div class="skill-name">${skill.name}</div>
                <div class="skill-desc">${skill.desc || 'Ø¨Ø¯ÙˆÙ† ÙˆØµÙ'}</div>
                <div class="skill-progress"><div class="skill-progress-bar" style="width: ${skill.progress}%"></div></div>
            </div>
            ${skill.status === 'completed' ? '<div class="skill-check">âœ“</div>' : ''}
            <button class="btn-danger" onclick="deleteSkill(${skill.id})"><i class="fas fa-trash"></i></button>
        </div>
    `).join('');
}

// ğŸ“Š Update stats
function updateStats() {
    const totalSkills = 94 + userSkills.length;
    document.getElementById('stat-skills').textContent = totalSkills;
    document.getElementById('new-skills-count').textContent = userSkills.length;
    document.getElementById('nav-skills-count').textContent = totalSkills;
    document.getElementById('count-all').textContent = totalSkills;
}

// ğŸ”„ Load all data
function loadData() {
    // Default data
    const defaultData = {
        stats: { tasks: { current: 47 }, skills: { current: 94 }, agents: { current: 12 }, hours: { current: 17 } },
        tasks: [
            { icon: "ğŸ†", title: "Ø¨ÙˆØª ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø°Ù‡Ø¨", desc: "EA Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ù€ MT5", status: "active", priority: true, statusText: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±", date: "2026-02-08" },
            { icon: "ğŸ’°", title: "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ø§Ù„Ø±Ø¨Ø­", desc: "Ø£Ø¹Ù…Ø§Ù„ Ø¬Ø§Ù†Ø¨ÙŠØ© Ø¨Ø¯Ø®Ù„ $1000+", status: "completed", priority: true, statusText: "Ù…ÙƒØªÙ…Ù„", date: "2026-02-08" },
            { icon: "ğŸ¨", title: "Ø¥Ø¹Ø§Ø¯Ø© ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆÙ‚Ø¹", desc: "ØªØµÙ…ÙŠÙ… SPA Ù…ØªÙƒØ§Ù…Ù„", status: "completed", priority: false, statusText: "Ù…ÙƒØªÙ…Ù„", date: "2026-02-08" },
            { icon: "ğŸ’¼", title: "Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù„Ù Upwork", desc: "Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª", status: "completed", priority: false, statusText: "Ù…ÙƒØªÙ…Ù„", date: "2026-02-07" }
        ],
        skills: {
            completed: [
                { icon: "ğŸ™ï¸", name: "Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª", desc: "Content Studio - TTS", progress: 100 },
                { icon: "ğŸ’°", name: "ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø°Ù‡Ø¨", desc: "XAU/USD - MQL5", progress: 100 },
                { icon: "ğŸ’»", name: "Ø¨Ø±Ù…Ø¬Ø© MQL5", desc: "Expert Advisors", progress: 100 },
                { icon: "ğŸŒ", name: "Web Scraping", desc: "Playwright", progress: 100 },
                { icon: "ğŸ¨", name: "ØªØµÙ…ÙŠÙ… Ø§Ù„ÙˆÙŠØ¨", desc: "HTML - CSS - JS", progress: 100 },
                { icon: "ğŸ¤–", name: "OpenClaw", desc: "Skills - Cron", progress: 100 },
                { icon: "ğŸ“Š", name: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", desc: "Research", progress: 100 },
                { icon: "ğŸ“§", name: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯", desc: "Email Automation", progress: 100 }
            ],
            pending: [
                { icon: "ğŸ–¥ï¸", name: "Remote Desktop", desc: "TeamViewer - 60%", progress: 60 },
                { icon: "ğŸ³", name: "Docker", desc: "Containerization", progress: 0 },
                { icon: "â˜ï¸", name: "AWS/Cloud", desc: "EC2 - S3", progress: 0 }
            ]
        },
        downloads: [
            { icon: "ğŸ†", title: "Ø¨ÙˆØª ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø°Ù‡Ø¨", desc: "EA Ù„Ù€ MT5", file: "Gold_Scalper_V1.mq5" },
            { icon: "ğŸ“‹", title: "Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØ¯Ø§ÙˆÙ„", desc: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", file: "GOLD_SCALPER_V1_STRATEGY.md" },
            { icon: "ğŸ“–", title: "Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ«Ø¨ÙŠØª", desc: "Ø®Ø·ÙˆØ§Øª MT5", file: "INSTALLATION_GUIDE.md" },
            { icon: "ğŸ“Š", title: "ÙØ±Øµ Ø§Ù„Ø±Ø¨Ø­ 2025", desc: "ØªØ­Ù„ÙŠÙ„ 10+ ÙØ±Øµ", file: "MONEY_OPPORTUNITIES_2025.md" },
            { icon: "ğŸ¬", title: "ØªØ­Ù„ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª", desc: "3 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ø­Ù„Ù„Ø©", file: "VIDEO_INSIGHTS.md" }
        ],
        agents: [
            { icon: "ğŸ•µï¸", name: "Ù…Ø±Ø§Ù‚Ø¨ OpenClaw", task: "ÙŠØ¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø¨Ø§Ø± ÙƒÙ„ 6 Ø³Ø§Ø¹Ø§Øª", status: "Ù†Ø´Ø·", lastRun: "Ù…Ù†Ø° Ø³Ø§Ø¹Ø©" },
            { icon: "ğŸ’°", name: "Ø¨Ø§Ø­Ø« Ø§Ù„ÙØ±Øµ", task: "ÙŠØ¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ø±Ø¨Ø­ÙŠØ©", status: "Ù…ÙƒØªÙ…Ù„", lastRun: "Ø§ÙƒØªÙ…Ù„" },
            { icon: "ğŸ›¡ï¸", name: "ÙØ§Ø­Øµ Ø§Ù„Ø£Ù…Ø§Ù†", task: "ÙŠÙØ­Øµ Ø§Ù„Ø£Ù…Ø§Ù† ÙŠÙˆÙ…ÙŠØ§Ù‹", status: "Ù†Ø´Ø·", lastRun: "Ø§Ù„ÙŠÙˆÙ… 6:00 Øµ" }
        ]
    };
    
    // Add user skills to completed/pending
    userSkills.forEach(skill => {
        if (skill.status === 'completed') {
            defaultData.skills.completed.push(skill);
        } else {
            defaultData.skills.pending.push(skill);
        }
    });
    
    // Update displays
    updateTasks(defaultData.tasks);
    updateSkills(defaultData.skills);
    updateDownloads(defaultData.downloads);
    updateAgents(defaultData.agents);
    updateStats();
    updateNewSkillsDisplay();
    
    document.getElementById('last-update').textContent = new Date().toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });
}

// Update functions
function updateTasks(tasks) {
    const priority = tasks.filter(t => t.priority);
    document.getElementById('priority-tasks-container').innerHTML = priority.map(t => `
        <div class="task-card ${t.status} ${t.priority ? 'priority' : ''}">
            <div class="task-header">
                <div class="task-icon">${t.icon}</div>
                <span class="task-title-text">${t.title}</span>
                <span class="task-badge ${t.status === 'completed' ? 'done' : 'hot'}">${t.statusText}</span>
            </div>
            <div class="task-desc">${t.desc}</div>
            <div class="task-date">ğŸ“… ${t.date}</div>
        </div>
    `).join('');
    
    document.getElementById('all-tasks-container').innerHTML = tasks.map(t => `
        <div class="task-card ${t.status}">
            <div class="task-header">
                <div class="task-icon">${t.icon}</div>
                <span class="task-title-text">${t.title}</span>
                <span class="task-badge ${t.status === 'completed' ? 'done' : 'active'}">${t.statusText}</span>
            </div>
            <div class="task-desc">${t.desc}</div>
            <div class="task-date">ğŸ“… ${t.date}</div>
        </div>
    `).join('');
}

function updateSkills(skills) {
    // Completed
    document.getElementById('completed-skills-container').innerHTML = skills.completed.map(s => `
        <div class="skill-card completed">
            <div class="skill-icon-large">${s.icon}</div>
            <div class="skill-info">
                <div class="skill-name">${s.name}</div>
                <div class="skill-desc">${s.desc}</div>
                <div class="skill-progress"><div class="skill-progress-bar" style="width: ${s.progress}%"></div></div>
            </div>
            <div class="skill-check">âœ“</div>
        </div>
    `).join('');
    
    // Pending
    document.getElementById('pending-skills-container').innerHTML = skills.pending.map(s => `
        <div class="skill-card" style="border-color: var(--border);">
            <div class="skill-icon-large">${s.icon}</div>
            <div class="skill-info">
                <div class="skill-name">${s.name}</div>
                <div class="skill-desc">${s.desc}</div>
                <div class="skill-progress"><div class="skill-progress-bar" style="width: ${s.progress}%"></div></div>
            </div>
        </div>
    `).join('');
    
    // All
    const all = [...skills.completed, ...skills.pending];
    document.getElementById('all-skills-container').innerHTML = all.map(s => `
        <div class="skill-card ${s.progress === 100 ? 'completed' : ''}" style="${s.progress !== 100 ? 'border-color: var(--border);' : ''}">
            <div class="skill-icon-large">${s.icon}</div>
            <div class="skill-info">
                <div class="skill-name">${s.name}</div>
                <div class="skill-desc">${s.desc}</div>
                <div class="skill-progress"><div class="skill-progress-bar" style="width: ${s.progress}%"></div></div>
            </div>
            ${s.progress === 100 ? '<div class="skill-check">âœ“</div>' : ''}
        </div>
    `).join('');
    
    // Quick view (first 4)
    document.getElementById('quick-skills-container').innerHTML = skills.completed.slice(0, 4).map(s => `
        <div class="skill-card completed">
            <div class="skill-icon-large">${s.icon}</div>
            <div class="skill-info">
                <div class="skill-name">${s.name}</div>
                <div class="skill-desc">${s.desc}</div>
                <div class="skill-progress"><div class="skill-progress-bar" style="width: ${s.progress}%"></div></div>
            </div>
            <div class="skill-check">âœ“</div>
        </div>
    `).join('');
}

function updateDownloads(downloads) {
    document.getElementById('downloads-container').innerHTML = downloads.map(d => `
        <div class="download-card">
            <div class="download-icon">${d.icon}</div>
            <div class="download-title">${d.title}</div>
            <div class="download-desc">${d.desc}</div>
            <a href="${d.file}" class="download-btn" download><i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„</a>
        </div>
    `).join('');
}

function updateAgents(agents) {
    document.getElementById('agents-container').innerHTML = agents.map(a => `
        <div class="agent-card">
            <div class="agent-avatar">${a.icon}</div>
            <div class="agent-info">
                <div class="agent-name">${a.name}</div>
                <div class="agent-task">${a.task}</div>
                <div style="font-size: 0.75rem; color: var(--text-tertiary); margin-top: 4px;">â±ï¸ ${a.lastRun}</div>
            </div>
            <div class="agent-status">${a.status}</div>
        </div>
    `).join('');
}

// Navigation
function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');
    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
    event.target.closest('.nav-link').classList.add('active');
    const titles = { 'dashboard': 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', 'tasks': 'Ø§Ù„Ù…Ù‡Ø§Ù…', 'skills': 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª', 'add-skill': 'Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©', 'downloads': 'Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª', 'agents': 'Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡' };
    document.getElementById('page-title').textContent = titles[sectionId];
}

function showTab(tabId) {
    document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
    document.getElementById(tabId).style.display = 'block';
    document.querySelectorAll('.tabs .tab-btn').forEach(b => b.classList.remove('active'));
    event.target.classList.add('active');
}

// Initialize
document.addEventListener('DOMContentLoaded', loadData);
</script>

</body>
</html>
